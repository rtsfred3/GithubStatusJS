import StatuspageDictionary from"./StatuspageDictionary.min.esm.js";export default class StatuspageStaticHTML{static MetaTag(t,a,e="name"){var i=document.createElement("meta");return i.setAttribute(e,t),i.content=a,i}static MetaTagStr(t,a,e="name"){return this.TagStringAndAttributes("meta",{[e]:t,content:a})}static LinkTag(t,a){var e=document.createElement("link");return e.rel=t,e.href=a,"icon"==t&&(e.type="image/x-icon"),e}static LinkTagStr(t,a){var e={rel:t,href:a};return"icon"==t&&(e.type="image/x-icon"),this.TagStringAndAttributes("link",e)}static ScriptTag(t){var a=document.createElement("script");return a.src=t,a}static ScriptSrcTagStr(t){var a={src:t};return this.TagStringAndAttributes("script",a)}static ScriptBodyTagStr(t){return this.TagStringAndAttributes("script",null,t)}static EmbeddedStylesheet(t){return this.TagStringAndAttributes("style",null,t)}static GenerateAttributes(t){return Object.entries(t).map((t=>null!=t[1]?`${t[0]}="${t[1]}"`:`${t[0]}`)).join(" ")}static TagStringAndAttributes(t,a=null,e=null){return`<${t}${null!=a?` ${this.GenerateAttributes(a)}`:""}>${null!=e?e:""}</${t}>`}static CreateAnchorTagHTML(t,a,e=!1){var i=e?{href:t}:{href:t,target:"_blank"};return StatuspageStaticHTML.TagStringAndAttributes("a",i,a)}static MetaTagDictionary(t,a,e=null,i=null,s=[],r=null,n=null){return{author:i,"application-name":r,"theme-color":a,description:n,keywords:null!=s&&s.length>0?s.join(", "):null,"og:site_name":r,"og:title":r,"og:description":n,"og:type":"website","og:url":e,"og:image":t,"twitter:card":"summary","twitter:title":r,"twitter:description":n,"twitter:image":t,"mobile-web-app-capable":"yes","apple-mobile-web-app-capable":"yes","apple-mobile-web-app-status-bar-style":a,"apple-mobile-web-app-title":r,viewport:"width=device-width, initial-scale=1.0, user-scalable=0.0",HandheldFriendly:"true"}}static MetaTagsStrList(t,a,e=null,i=null,s=[],r=null,n=null){var u=this.MetaTagDictionary(t,a,e,i,s,r,n),l=[];for(const[t,a]of Object.entries(u))null!=a&&l.push(this.MetaTagStr(t,a,t.includes("og:")?"property":"name"));return l}static LinkTagDictionary(t=null,a=null,e=null,i=null){return{canonical:t,icon:a,"apple-touch-icon":e,"dns-prefetch":i,preconnect:i}}static LinkTagStrList(t=null,a=null,e=null,i=null,s=[]){var r=this.LinkTagDictionary(t,a,e,i),n=[];for(const[t,a]of Object.entries(r))null!=a&&n.push(this.LinkTagStr(t,a));if(!this.isBot)for(let t of s)n.push(this.LinkTagStr("stylesheet",t));return n}static StaticHeadHTMLStr(t){return Array.isArray(t)?this.TagStringAndAttributes("head",null,`\n\t\t${t.join("\n\t\t")}\n\t`):this.TagStringAndAttributes("body",null,t)}static StaticBodyHTMLStr(t){return this.TagStringAndAttributes("body",{id:"body"},`\n\t\t${t}\n\t`)}static StaticBaseHTML(t,a){return this.TagStringAndAttributes("html",null,`\n\t${t}\n\t${a}\n`)}static StatusHTML(t,a=!1){t in StatuspageDictionary.StatusEnums||(t=StatuspageDictionary.StatusEnums.error);var e={id:"status","data-status":t,class:"statuspage-status"};return a&&(e.class+=" fullScreen"),this.TagStringAndAttributes("div",e)}static CustomStatusHTML(t,a=!1){t in StatuspageDictionary.StatusEnums||(t=StatuspageDictionary.StatusEnums.error);var e={"data-status":t};return a&&(e.fullScreen=null),this.TagStringAndAttributes(StatuspageDictionary.HTMLTags.StatuspageStatus,e)}static StaticHTMLString(t,a,e,i,s=null,r=null,n=[],u=null,l=null,g=null,c=!1,o=!1){t in StatuspageDictionary.StatusEnums||(t=StatuspageDictionary.StatusEnums.error),c&&(o=!1),null==u&&(u=i);var S=StatuspageDictionary.MetaColors[t],p=[],h=this.MetaTagsStrList(e,S,s,r,n,u,l),T=this.LinkTagStrList(s,a,e,null);p.push(...h),p.push(...T),p.push(this.TagStringAndAttributes("title",null,i)),null==g||c||p.push(this.EmbeddedStylesheet(g));var d=o?this.CustomStatusHTML(t,!0):this.StatusHTML(t,!0);t==StatuspageDictionary.StatusEnums.error&&o&&(d=this.TagStringAndAttributes(StatuspageDictionary.HTMLTags.StatuspageError)),t==StatuspageDictionary.StatusEnums.loading&&o&&(d=this.TagStringAndAttributes(StatuspageDictionary.HTMLTags.StatuspageLoading));var m=this.StaticHeadHTMLStr(p),y=this.StaticBodyHTMLStr(d);return this.StaticBaseHTML(m,y)}static ErrorHTML(t,a,e,i=null,s=null,r=[],n=null,u=null,l=null,g=!1,c=!1){return null==n&&(n=`${e} | Error`),this.StaticHTMLString(StatuspageDictionary.StatusEnums.error,t,a,e,i,s,r,n,u,l,g,c)}static LoadingHTML(t,a,e,i=null,s=null,r=[],n=null,u=null,l=null,g=!1,c=!1){return this.StaticHTMLString(StatuspageDictionary.StatusEnums.loading,t,a,e,i,s,r,n,u,l,g,c)}static get StaticHTML(){return class{constructor(t,a,e,i=StatuspageDictionary.PathNames.Index,s=null,r=null,n=null,u=[],l=null,g=null,c=null){this._status=StatuspageDictionary.StatusEnums.loading,this.canonicalUrl=s,this.statuspageUrl=r,this.iconUrl=t,this.imgUrl=a,this.pathName=i,this.statusPathName=i,this.author=n,this.keywords=u,this.trimWhitespace=!1,this._siteName=null!=e?e:"Statuspage",this._isBot=!1,this._title=g,this._description=c,this._additionalDescription=l,this._bodyTemplate=`<body id="body">${StatuspageDictionary.replaceableStringValue}</body>`}get prefetchStatuspageUrl(){return null!=this.statuspageUrl?this.statuspageUrl.replace("https:",""):null}get title(){return null!=this._title?this._title:StatuspageDictionary.StatuspageHTMLTemplates[this.statusPathName].replace(StatuspageDictionary.replaceableStringValue,this.siteName)}get description(){if(null!=this._description)return this._description;var t=StatuspageDictionary.StatuspageHTMLTemplates.template_descrisption.replace(StatuspageDictionary.replaceableStringValue,this.siteName);return null!=this._additionalDescription&&(t=null==t?this._additionalDescription:`${t} ${this._additionalDescription}`),t}get themeColor(){return StatuspageDictionary.MetaColors[this._status]}set status(t){"string"==typeof t&&t in StatuspageDictionary.StatusEnums&&(this._status=t)}get status(){return this._status}set siteName(t){"string"==typeof t&&(this._siteName=t)}get siteName(){return this._siteName}set isBot(t){"boolean"==typeof t&&(this._isBot=t)}get isBot(){return this._isBot}get LinkTagValues(){return StatuspageStaticHTML.LinkTagDictionary(this.canonicalUrl,this.iconUrl,this.imgUrl,this.prefetchStatuspageUrl)}get Stylesheets(){return["https://spstat.us/styling/main.min.css"]}get Scripts(){return["https://spstat.us/js/StatuspageHTML.js"]}get MetaTagValues(){return StatuspageStaticHTML.MetaTagDictionary(this.imgUrl,this.themeColor,this.canonicalUrl,this.author,this.keywords,this.title,this.description)}get LinkTags(){var t=[];for(const[a,e]of Object.entries(this.LinkTagValues))null!=e&&t.push(StatuspageStaticHTML.LinkTagStr(a,e));if(!this.isBot)for(let a of this.Stylesheets)t.push(StatuspageStaticHTML.LinkTagStr("stylesheet",a));return t}get MetaTags(){var t=[];for(const[a,e]of Object.entries(this.MetaTagValues))null!=e&&t.push(StatuspageStaticHTML.MetaTagStr(e,a,a.includes("og:")?"property":"name"));return t}get ScriptTags(){var t=[];if(this.isBot)return t;for(let a of this.Scripts)t.push(`<script ${StatuspageStaticHTML.GenerateAttributes({src:a})}><\/script>`);return t}get TitleTag(){return`<title>${this.title}</title>`}get Head(){return`<head>${`\n\t\t${this.MetaTags.join("\n\t\t")}`}${`\n\t\t${this.LinkTags.join("\n\t\t")}`}${this.ScriptTags.length>0?`\n\t\t${this.ScriptTags.join("\n\t\t")}`:""}${`\n\t\t${this.TitleTag}`}\n\t</head>`}get Body(){var t=StatuspageStaticHTML.TagStringAndAttributes(StatuspageDictionary.HTMLTags.StatuspageError);if(this.isBot)return this._bodyTemplate.replace(StatuspageDictionary.replaceableStringValue,"");if(this.pathName==StatuspageDictionary.PathNames.Status){var a={};null!=this.statuspageUrl?a["data-url"]=this.statuspageUrl:null!=this.status&&(a["data-status"]=this.status),0==Object.keys(a).length&&(a["data-status"]=StatuspageDictionary.StatusEnums.error),a.fullScreen=null,t=StatuspageStaticHTML.TagStringAndAttributes(StatuspageDictionary.HTMLTags.StatuspageStatus,a)}return this.pathName==StatuspageDictionary.PathNames.Summary&&(t=StatuspageStaticHTML.TagStringAndAttributes(StatuspageDictionary.HTMLTags.StatuspageSummary,{"data-url":this.statuspageUrl})),this.pathName==StatuspageDictionary.PathNames.Maintenance&&(t=StatuspageStaticHTML.TagStringAndAttributes(StatuspageDictionary.HTMLTags.StatuspageStatus,{"data-status":StatuspageDictionary.StatusEnums.maintenance,fullScreen:null})),this.pathName==StatuspageDictionary.PathNames.Unavailable&&(t=StatuspageStaticHTML.TagStringAndAttributes(StatuspageDictionary.HTMLTags.StatuspageUnavailable)),this.pathName==StatuspageDictionary.PathNames.Error&&(t=StatuspageStaticHTML.TagStringAndAttributes(StatuspageDictionary.HTMLTags.StatuspageError)),this._bodyTemplate.replace(StatuspageDictionary.replaceableStringValue,t)}get HTML(){return`<html>\n\t${this.Head}\n\t${this.Body}\n</html>`}get ErrorHTML(){return this.pathName=StatuspageDictionary.PathNames.Error,this.HTML}get UnavailableHTML(){return this.pathName=StatuspageDictionary.PathNames.Unavailable,this.HTML}get StatusBody(){var t="";return this.status in StatuspageDictionary.StatusEnums&&(t=StatuspageStaticHTML.TagStringAndAttributes(StatuspageDictionary.HTMLTags.StatuspageStatus,{"data-status":this.status,fullScreen:null})),this._bodyTemplate.replace(StatuspageDictionary.replaceableStringValue,`\n\t\t${t}\n\t`)}HTMLFromStatus(t){this.status=t;var a=`<html>\n\t${this.Head}\n\t${this.StatusBody}\n</html>`;return this.trimWhitespace&&(a=a.replaceAll("\n","").replaceAll("\t","")),a}}}}