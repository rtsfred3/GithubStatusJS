var metaColors={none:"#339966",minor:"#F1C40F",major:"#FF9900",critical:"#990000",unavailable:"#4F93BD",error:"#646464"},indicatorMessages={resolved:"good",investigating:"minor"},language=(window.navigator.userLanguage||window.navigator.language).substring(0,2);function mTrim(e){return e.replace(/\s+|\s+/gm,"").replace(".","").replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"")}function setUp(){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText);null==e[language]&&(language="en"),setHead(e[language]),setInfo("https://www.githubstatus.com/api/v2/status.json",Status,e),setInfo("https://www.githubstatus.com/api/v2/incidents.json",Messages,e)}},e.open("GET","languages.json",!0),e.send()}function setInfo(e,t,n){var s=new XMLHttpRequest;s.onreadystatechange=function(){4==this.readyState&&200==this.status&&t(JSON.parse(this.responseText),n)},s.open("GET",e,!0),s.send()}function setTheme(e){for(var t=[2,18],n=document.getElementsByTagName("meta"),s=0;s<t.length;s++)n[t[s]].setAttribute("content",metaColors[e])}function setHead(e){document.getElementsByTagName("html")[0].setAttribute("lang",language);for(var t=document.getElementsByTagName("meta"),n=[3,7,13],s=0;s<n.length;s++)t[n[s]].setAttribute("content",e.description);t[8].setAttribute("content",e.images.facebook),t[14].setAttribute("content",e.images.twitter);for(n=[1,5,6,12,16],s=0;s<n.length;s++)t[n[s]].setAttribute("content",e.title);document.getElementsByTagName("title")[0].innerHTML=e.title}function Status(e,t){setTheme("unavailable"),document.getElementById("mainStatus").classList.remove("unavailable-color"),document.getElementById("mainStatus").innerHTML='<span class="center-status">'+t[language].status[e.status.indicator].toUpperCase()+"</span>",document.getElementById("mainStatus").classList.add("status-color"),document.getElementById("mainStatus").classList.add(e.status.indicator.toLowerCase()+"-color"),setTheme(e.status.indicator)}function Messages(e,t){if(0!=e.incidents.length){var n="",s=new Date;s.setDate(s.getDate()-7);for(var a=0;a<e.incidents.length&&!(new Date(e.incidents[a].created_at)<s);a++)if(0<e.incidents[a].incident_updates.length)for(var i=0;i<e.incidents[a].incident_updates.length;i++){var o="resolved"==e.incidents[a].incident_updates[i].status||("none"==e.incidents[a].impact||e.incidents[a].impact);n+='<div class="status-box '+(o=indicatorMessages[e.incidents[a].incident_updates[i].status])+'"><span class="message-status"><div class="right">'+t[language].status["good"==o?"none":o]+"</div></span></div>";var d=new Date(e.incidents[a].incident_updates[i].created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"numeric"});d='<span class="date empty">'+d+"</span>",n+='<div class="text-margin">'+(null==t[language].messages.messages[mTrim(e.incidents[a].incident_updates[i].body)]?e.incidents[a].incident_updates[i].body:t[language].messages.messages[mTrim(e.incidents[a].incident_updates[i].body)])+"<br />"+d+"</div>"}document.getElementById("messages").innerHTML=n}else document.getElementById("messages").innerHTML='<div class="empty padding-none"><div class="font-36 margin-bottom">'+t[language].messages.none[0]+'</div><div class="font-12">'+t[language].messages.none[1]+"<br /><br />"+t[language].messages.none[2]+"</div></div>"}
