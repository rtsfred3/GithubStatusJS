class StatuspageDictionary{static get SiteNameValue(){return"{{SiteName}}"}static get replaceableStringValue(){return"{}"}static get StatuspageHTMLTemplates(){var e={template_title_index:`(Unofficial) ${StatuspageDictionary.replaceableStringValue} Status`,template_title_status:`(Unofficial) Mini ${StatuspageDictionary.replaceableStringValue} Status`,template_title_components:`(Unofficial) ${StatuspageDictionary.replaceableStringValue} Status Components`,template_title_amp:`(Unofficial) ${StatuspageDictionary.replaceableStringValue} Status AMP`,template_title_maintenance:`Under Maintenance`,template_title_error:`(Unofficial) ${StatuspageDictionary.replaceableStringValue} Status - Error`,template_descrisption:`An unofficial website to monitor ${StatuspageDictionary.replaceableStringValue} status updates.`,get[this.PathNames.Index](){return this.template_title_index.replace(this.replaceableStringValue,this.SiteNameValue)},get[this.PathNames.Status](){return this.template_title_status.replace(this.replaceableStringValue,this.SiteNameValue)},get[this.PathNames.Components](){return this.template_title_components.replace(this.replaceableStringValue,this.SiteNameValue)},get[this.PathNames.Amp](){return this.template_title_amp.replace(this.replaceableStringValue,this.SiteNameValue)},get[this.PathNames.Maintenance](){return this.template_title_maintenance.replace(this.replaceableStringValue,this.SiteNameValue)},get[this.PathNames.Error](){return this.template_title_error.replace(this.replaceableStringValue,this.SiteNameValue)},get[this.PathNames.Description](){return this.template_descrisption.replace(this.replaceableStringValue,this.SiteNameValue)}};return Object.freeze(e)}static get StatusEnums(){return Object.freeze({good:"good",minor:"minor",major:"major",critical:"critical",error:"error",maintenance:"maintenance",unavailable:"unavailable",loading:"loading",none:"none",resolved:"resolved",operational:"operational",degraded_performance:"degraded_performance",partial_outage:"partial_outage",major_outage:"major_outage",under_maintenance:"under_maintenance"})}static get MetaColors(){return Object.freeze({[this.StatusEnums.none]:"#339966",[this.StatusEnums.minor]:"#DBAB09",[this.StatusEnums.major]:"#E25D10",[this.StatusEnums.critical]:"#DC3545",[this.StatusEnums.unavailable]:"#4F93BD",[this.StatusEnums.error]:"#646464",[this.StatusEnums.maintenance]:"#0366D6",psa:"#D83D42",get[StatuspageDictionary.StatusEnums.good](){return this.none},get[StatuspageDictionary.StatusEnums.under_maintenance](){return this.maintenance},get[StatuspageDictionary.StatusEnums.loading](){return this.unavailable},get[StatuspageDictionary.StatusEnums.operational](){return this.none},get[StatuspageDictionary.StatusEnums.degraded_performance](){return this.minor},get[StatuspageDictionary.StatusEnums.partial_outage](){return this.major}})}static get IndicatorVals(){return Object.freeze({[this.StatusEnums.good]:this.StatusEnums.good,[this.StatusEnums.minor]:this.StatusEnums.minor,[this.StatusEnums.major]:this.StatusEnums.major,[this.StatusEnums.critical]:this.StatusEnums.critical,[this.StatusEnums.error]:this.StatusEnums.error,[this.StatusEnums.maintenance]:this.StatusEnums.maintenance,[this.StatusEnums.unavailable]:this.StatusEnums.unavailable,[this.StatusEnums.loading]:this.StatusEnums.loading,get[StatuspageDictionary.StatusEnums.resolved](){return this.good},get[StatuspageDictionary.StatusEnums.none](){return this.good},get[StatuspageDictionary.StatusEnums.operational](){return this.good},get[StatuspageDictionary.StatusEnums.degraded_performance](){return this.minor},get[StatuspageDictionary.StatusEnums.partial_outage](){return this.major},get[StatuspageDictionary.StatusEnums.major_outage](){return this.critical},get[StatuspageDictionary.StatusEnums.under_maintenance](){return this.maintenance}})}static get IndicatorMessages(){return Object.freeze({[this.StatusEnums.resolved]:this.StatusEnums.good,[this.StatusEnums.minor]:this.StatusEnums.minor,[this.StatusEnums.major]:this.StatusEnums.major,[this.StatusEnums.critical]:this.StatusEnums.critical})}static get Paths(){return Object.freeze({[this.PathNames.Index]:"/",[this.PathNames.Status]:"/status/",[this.PathNames.Components]:"/components/",[this.PathNames.Amp]:"/amp/"})}static get PathNames(){return Object.freeze({Index:"Index",Status:"Status",Component:"Component",Components:"Components",Amp:"Amp",Maintenance:"Maintenance",Error:"Error",Description:"Description"})}}class StatuspageHTMLElements{static get ErrorHTMLElement(){return document.createElement(StatuspageWebComponents.Error.is,{is:StatuspageWebComponents.Error.is})}static get LoadingHTMLElement(){return document.createElement(StatuspageWebComponents.Loading.is,{is:StatuspageWebComponents.Loading.is})}static get AppHTMLElement(){const e=document.createElement("div");return e.id="app",e}static get AppLoadingHTMLElement(){var e=StatuspageHTMLElements.AppHTMLElement;return e.appendChild(StatuspageHTMLElements.LoadingHTMLElement),e.firstElementChild.id="status",e}static get AppErrorHTMLElement(){var e=StatuspageHTMLElements.AppHTMLElement;return e.appendChild(StatuspageHTMLElements.ErrorHTMLElement),e}static get AllGoodElement(){const e=document.createElement("div");return e.classList.add("messages-empty-all-good"),e.textContent="All good.",e}static NoIncidentsElement(e){const t=document.createElement("div");t.classList.add("messages-empty");const a=document.createElement("div");return a.classList.add("messages-empty-body"),a.appendChild(document.createTextNode(`Nothing to see here folks. Looks like ${e} is up and running and has been stable for quite some time.`)),a.append(document.createElement("br"),document.createElement("br")),a.appendChild(document.createTextNode("Now get back to work!")),t.append(StatuspageHTMLElements.AllGoodElement,a),t}static GetStatusJson(e){return{status:{indicator:e in StatuspageDictionary.StatusEnums?e:StatuspageDictionary.StatusEnums.error}}}static StatusHTMLElement(e,t=!1,a="status",n=null){if("string"!=typeof e&&"object"!=typeof e)return console.error(`Invaid parameter - ${typeof e}`),document.createElement("div");if("object"==typeof e&&"id"in e&&"name"in e)return StatuspageHTMLElements.StatusHTMLElement(e.status,!1,e.id,e.name);if("object"==typeof e&&"status"in e&&"indicator"in e.status)return StatuspageHTMLElements.StatusHTMLElement(e.status.indicator,t);if(Object.keys(e).includes("val"))return StatuspageHTMLElements.StatusHTMLElement(e.val,t);if("string"!=typeof e)return console.error("string"!=typeof e),document.createElement("div");const s=document.createElement("div");if(s.setAttribute("id",a),s.classList.add("min","status-width"),null==n){var i=t?["full-status-height"]:["status-height","status-shadow"];s.setAttribute("data-status",e.toLowerCase()),s.classList.add(...i),s.classList.add("center-status")}else{s.classList.add("component-height");const e=document.createElement("span");e.classList.add("center-status"),e.setAttribute("data-message",n),s.appendChild(e)}return s}static ComponentsHTMLElement(e){var t=[];if(!("object"==typeof e&&"components"in e))return t;for(var a=0;a<e.components.length;a++)if("Visit"!=e.components[a].name.substring(0,5)){var n=document.createElement(StatuspageWebComponents.Component.is,{is:StatuspageWebComponents.Component.is});n.id=e.components[a].id,n.dataStatus=StatuspageDictionary.IndicatorVals[e.components[a].status],n.dataMessage=e.components[a].name,t.push(n)}return t}static MessageHTMLElement(e,t,a,n,s,i,r,d,l){var u={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},o=n==StatuspageDictionary.StatusEnums.resolved?StatuspageDictionary.StatusEnums.good:a;null==o&&(o=StatuspageDictionary.IndicatorMessages[n]);var m=new Date(i).toLocaleDateString("en-US",u);if(l){u={month:"short",day:"2-digit",hour:"numeric",minute:"numeric"};var p=new Date(i);p=Date.UTC(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate(),p.getUTCHours()+p.getTimezoneOffset()/60,p.getUTCMinutes(),p.getUTCSeconds()),m=new Date(p).toLocaleDateString("en-US",u)+" UTC"}const c=document.createElement("span");c.setAttribute("id",e);const g=document.createElement("div");g.classList.add("status-box","message-status"),g.setAttribute("data-impact",o);const h=document.createElement("div");h.classList.add("text-margin"),h.appendChild(document.createTextNode(s)),h.appendChild(document.createElement("br"));const S=document.createElement("span");return S.classList.add("date","empty"),S.appendChild(document.createTextNode(m)),h.appendChild(S),c.appendChild(g),c.appendChild(h),c}static IncidentsHTMLElements(e,t=7,a=!1,n=!1){var s=new Date;s.setHours(0,0,0);var r=s.setDate(new Date().getDate()-t),d=[];"incidents"in e&&(d=d.concat(0==t?e.incidents:e.incidents.filter(function(e){return new Date(e.created_at)>r}))),"scheduled_maintenances"in e&&n&&(d=d.concat(0==t?e.scheduled_maintenances:e.scheduled_maintenances.filter(function(e){return new Date(e.created_at)>r})));var l=document.createElement("div");if(l.id="messages",l.classList.add("messages"),0==d.length)l.appendChild(StatuspageHTMLElements.NoIncidentsElement(e.page.name));else for(var u=0;u<d.length;u++)if(0<d[u].incident_updates.length){const e=document.createElement("span");e.setAttribute("id",d[u].id);for(var o=0;o<d[u].incident_updates.length;o++)e.appendChild(StatuspageHTMLElements.MessageHTMLElement(d[u].incident_updates[o].id,d[u].name,d[u].impact,d[u].incident_updates[o].status,d[u].incident_updates[o].body,d[u].incident_updates[o].created_at,d[u].shortlink,o==d[u].incident_updates.length-1,a));l.appendChild(e)}return l}static GetLinkTag(e){let t=Array.from(document.getElementsByTagName("link"));return t.find(t=>t.getAttribute("rel")==e)}static SetLinkTag(e,t){if("string"==typeof e){if(null!=StatuspageHTMLElements.GetLinkTag(e))StatuspageHTMLElements.GetLinkTag(e).setAttribute("href",t);else{var a=document.getElementsByTagName("head");0<a.length&&a[0].appendChild(this.LinkTag(e,t))}}else if(Array.isArray(e))for(var n=0;n<e.length;n++)StatuspageHTMLElements.SetLinkTag(e[n],t)}static GetMetaTag(e,t="name"){t=e.startsWith("og:")?"property":t;let a=Array.from(document.getElementsByTagName("meta"));return a.find(a=>a.hasAttribute(t)&&a.getAttribute(t)==e)}static SetMetaTag(e,t,a="name"){if("string"==typeof e){if(null!=StatuspageHTMLElements.GetMetaTag(e,a))StatuspageHTMLElements.GetMetaTag(e,a).setAttribute("content",t);else{var n=document.getElementsByTagName("head");0<n.length&&n[0].appendChild(this.MetaTag(e,t))}}else if(Array.isArray(e))for(var s=0;s<e.length;s++)StatuspageHTMLElements.SetMetaTag(e[s],t,a)}static SetThemeColor(e){var t=StatuspageDictionary.MetaColors[e];StatuspageHTMLElements.SetMetaTag(["theme-color","apple-mobile-web-app-status-bar-style"],t)}static LinkTagValues(e,t,a,n){return{canonical:e,icon:a,"apple-touch-icon":n,"dns-prefetch":t,preconnect:t}}static MetaTagValues(e,t,a,n,s,i,r=[],d=null,l=null,u=null){return null==l&&(l=StatuspageDictionary.StatuspageHTMLTemplates[n].replace(StatuspageDictionary.SiteNameValue,a)),null==u&&(u=StatuspageDictionary.StatuspageHTMLTemplates.template_descrisption.replace(StatuspageDictionary.replaceableStringValue,a)),null!=d&&(u=null==u?d:`${u} ${d}`),{author:i,"application-name":l,"theme-color":s,description:u,keywords:r.join(", "),"og:site_name":l,"og:title":l,"og:description":u,"og:type":"website","og:url":e,"og:image":t,"twitter:card":"summary","twitter:title":l,"twitter:description":u,"twitter:image":t,"mobile-web-app-capable":"yes","apple-mobile-web-app-capable":"yes","apple-mobile-web-app-status-bar-style":s,"apple-mobile-web-app-title":l,viewport:"width=device-width, initial-scale=1.0, user-scalable=0.0",HandheldFriendly:"true"}}static UpdateMetaTags(e,t,a,n,s,i,r=[],d=null){var l=StatuspageHTMLElements.MetaTagValues(e,t,a,n,s,i,r,d);for(const[u,o]of Object.entries(l))null!=o&&(StatuspageHTMLElements.SetMetaTag(u,o),"description"==u&&StatuspageHTMLElements.SetMetaTag(u,o,"itemprop"));StatuspageHTMLElements.SetMetaTag("image",t,"itemprop")}static MetaTag(e,t,a="name"){var n=document.createElement("meta");return n.setAttribute(a,e),n.content=t,n}static LinkTag(e,t){var a=document.createElement("link");return a.rel=e,a.href=t,"icon"==e&&(a.type="image/x-icon"),a}static UpdateLinkTags(e,t,a,n){var s=StatuspageHTMLElements.LinkTagValues(e,t,a,n);for(const[i,r]of Object.entries(s))null!=r&&StatuspageHTMLElements.SetLinkTag(i,r)}static LinkTagElements(e,t,a,n){var s=StatuspageHTMLElements.LinkTagValues(e,t,a,n),i=[];for(const[r,d]of Object.entries(s))null!=d&&i.push(StatuspageHTMLElements.LinkTag(r,d));return i}static MetaTagsHTMLElements(e,t,a,n,s,i,r=[],d=null){var l=StatuspageHTMLElements.MetaTagValues(e,t,a,n,s,i,r,d),u=[];for(const[o,m]of Object.entries(l))null!=m&&u.push(StatuspageHTMLElements.MetaTag(o,m,o.includes("og:")?"property":"name"));return u}static UpdateUrlTags(e){StatuspageHTMLElements.SetLinkTag("canonical",e),StatuspageHTMLElements.SetMetaTag("og:url",e)}static HeadElement(e,t,a,n,s,i,r,d,l=[],u=null){var o=document.createElement("head"),m=StatuspageHTMLElements.LinkTagElements(e,t,a,n),p=StatuspageHTMLElements.MetaTagsHTMLElements(e,n,s,i,r,d,l,u);for(let p of m)o.appendChild(p);for(let m of p)o.appendChild(m);var c=document.createElement("title");return c.innerHTML=StatuspageDictionary.StatuspageHTMLTemplates[i].replace(StatuspageDictionary.SiteNameValue,s),o.append(c),o}}class StatuspageWebComponents{static get App(){return class extends HTMLElement{constructor(){super()}connectedCallback(){if(console.log(`Starting ${StatuspageWebComponents.App.is}`),this.id="app",this.appendChild(StatuspageHTMLElements.LoadingHTMLElement),this.hasAttribute("data-url"))if(this.url=this.getAttribute("data-url"),this.removeAttribute("data-url"),location.pathname==StatuspageDictionary.Paths.Index){StatuspageHTMLElements.UpdateUrlTags(location.href);var e=document.createElement(StatuspageWebComponents.Summary.is,{is:StatuspageWebComponents.Summary.is});e.baseUrl=this.url,e.isSingleRequest=!0,this.firstElementChild.replaceWith(e)}else if(location.pathname==StatuspageDictionary.Paths.Components||location.pathname.endsWith(StatuspageDictionary.Paths.Components)){StatuspageHTMLElements.UpdateUrlTags(location.href);var t=document.createElement(StatuspageWebComponents.Components.is,{is:StatuspageWebComponents.Components.is});t.setAttribute("data-url",this.url),this.firstElementChild.replaceWith(t)}else if(location.pathname==StatuspageDictionary.Paths.Status||location.pathname.endsWith(StatuspageDictionary.Paths.Status)){var a=document.createElement(StatuspageWebComponents.Status.is,{is:StatuspageWebComponents.Status.is});a.baseUrl=this.url,a.fullScreen=!0,this.firstElementChild.replaceWith(a)}else{StatuspageHTMLElements.UpdateUrlTags(location.href);var e=document.createElement(StatuspageWebComponents.Summary.is,{is:StatuspageWebComponents.Summary.is});e.baseUrl=this.url,e.isSingleRequest=!0,this.removeChild(this.firstChild),this.appendChild(e)}console.log(`Finished ${StatuspageWebComponents.App.is}`)}toString(){return this.outerHTML.toString()}static get is(){return"statuspage-app"}}}static get Error(){return class extends HTMLElement{constructor(){super()}connectedCallback(){StatuspageHTMLElements.SetThemeColor(StatuspageDictionary.StatusEnums.error)}toString(){return this.outerHTML.toString()}static get is(){return"statuspage-error"}}}static get Loading(){return class extends HTMLElement{constructor(){super()}connectedCallback(){StatuspageHTMLElements.SetThemeColor(StatuspageDictionary.StatusEnums.loading)}toString(){return this.outerHTML.toString()}static get is(){return"statuspage-loading"}}}static get Status(){return class extends HTMLElement{static get observedAttributes(){return["data-status","data-url","status","fullscreen","autorefresh"]}set isLoading(e){"boolean"==typeof e&&this.data._isLoadingEnabled&&(this.data._isLoading=e,!this.data._isLoading&&(null==this.data._status?null==this.data._status&&this.removeAttribute("data-status"):this.setAttribute("data-status",this.data._status),!this.data._fullScreen&&this.hasAttribute("fullScreen")&&this.removeAttribute("fullScreen"),this.data._fullScreen&&!this.hasAttribute("fullScreen")&&this.setAttribute("fullScreen","")),this.data._isLoading&&(this.setAttribute("data-status",StatuspageDictionary.StatusEnums.loading),!this.hasAttribute("fullScreen")&&this.setAttribute("fullScreen","")))}get isLoading(){return this.data._isLoading}set fullScreen(e){"boolean"==typeof e?(this.data._fullScreen=e,this.data._isFullScreenSet=!0,this.data._fullScreen?!this.hasAttribute("fullScreen")&&this.setAttribute("fullScreen",""):this.removeAttribute("fullScreen")):console.error(`'${e}' is not a boolean.`)}get fullScreen(){return this.data._fullScreen}set dataStatus(e){"string"==typeof e&&e in StatuspageDictionary.StatusEnums?(this.data._status=e,this.dataset.status=e,this.hasAttribute("status")&&this.removeAttribute("status"),StatuspageHTMLElements.SetThemeColor(this.data._status),null==this.data._fullScreen&&(this.data._fullScreen=!1)):"string"==typeof e?console.error(`'${e}' is not a valid status.`):console.error(`'${e}' is not a string.`)}get dataStatus(){return this.data._status}set baseUrl(e){if("string"==typeof e&&URL.canParse(this.data._urlPath,e)){var t=new URL(this.data._urlPath,e);this.data._baseUrl=t.origin,this.data._url=t.href,this.data._isLoadingEnabled=!0,"url"in this.dataset||(this.dataset.url=this.data._baseUrl)}}get baseUrl(){return this.data._baseUrl}get url(){return this.data._url}set isRefreshEnabled(e){"boolean"==typeof e&&(this.data._refreshEnabled=e)}get isRefreshEnabled(){return this.data._refreshEnabled}set refreshTime(e){"number"==typeof e&&(this.data._refreshTime=e)}get refreshTime(){return this.data._refreshTime}set dataJson(e){"object"==typeof e&&(this.data._dataJson=e,"status"in this.data._dataJson&&"indicator"in this.data._dataJson.status&&(this.dataStatus=this.data._dataJson.status.indicator,this.isRefreshEnabled&&console.log(`this.dataStatus = ${this.dataStatus}`)))}constructor(){super(),this.data={_urlPath:"/api/v2/status.json",_baseUrl:null,_url:null,_fullScreen:null,_isLoading:!1,_status:void 0,_dataJson:null,_isFullScreenSet:!1,_isLoadingEnabled:!1,_refreshEnabled:!1,_refreshTime:5}}connectedCallback(){console.log(`Starting ${StatuspageWebComponents.Status.is}`),console.log(this.dataset),this.isLoading=!0,StatuspageHTMLElements.UpdateUrlTags(location.href),this.isRefreshEnabled&&console.log(`Refresh Interval: ${this.refreshTime} minutes`),null!=this.baseUrl&&(navigator.onLine?(this.fetchStatus(),this.isRefreshEnabled&&(console.log("Timer set"),setInterval(()=>{this.fetchStatus()},1e3*(60*this.refreshTime)))):this.setError()),this.isLoading=!1,console.log(this.toString()),console.log(`Finished ${StatuspageWebComponents.Status.is}`)}attributeChangedCallback(e,t,a){console.log("attributeChangedCallback",e,t,a),"status"==e&&null!=a&&a in StatuspageDictionary.StatusEnums&&(this.dataStatus=a),"data-status"==e&&null!=a&&a in StatuspageDictionary.StatusEnums&&(this.data._status=a,StatuspageHTMLElements.SetThemeColor(a)),"data-url"==e&&(this.baseUrl=a),"fullscreen"!=e||this.data._isFullScreenSet||this.isLoading||(this.fullScreen=null!=a),"autorefresh"==e&&(this.isRefreshEnabled=null!=a)}fetchStatus(){return new Promise((e,t)=>{navigator.onLine&&null!=this.url&&fetch(this.url).then(e=>e.json()).then(t=>{this.dataJson=t,e()}).catch(e=>{this.setError(),t(e)})})}setError(){this.dataStatus=StatuspageDictionary.StatusEnums.error,this.fullScreen=!0}toString(){return this.outerHTML.toString()}static get is(){return"statuspage-status"}}}static get Component(){return class extends HTMLElement{set dataStatus(e){"string"==typeof e&&(this.dataset.status=e)}get dataStatus(){return this.dataset.status}set dataMessage(e){"string"==typeof e&&(this.dataset.message=e)}get dataMessage(){return this.dataset.message}constructor(){super()}toString(){return this.outerHTML.toString()}static get is(){return"statuspage-component"}}}static get Components(){return class extends HTMLElement{constructor(){super()}connectedCallback(){console.log(`Starting ${StatuspageWebComponents.Components.is}`),this.appendChild(StatuspageHTMLElements.LoadingHTMLElement),this.hasAttribute("data-json")?this.parseJson(JSON.parse(this.getAttribute("data-json"))):this.hasAttribute("data-url")?this.fetchComponents(this.getAttribute("data-url")):this.replaceWith(StatuspageHTMLElements.ErrorHTMLElement),console.log(`Finished ${StatuspageWebComponents.Components.is}`)}fetchComponents(e){return new Promise((t,a)=>{var n="/"==e.slice(-1)?e.substring(0,e.length-1):e;fetch(n+"/api/v2/components.json").then(e=>e.json()).then(e=>{this.parseJson(e),t()}).catch(e=>a(e))})}parseJson(e){for(var t=StatuspageHTMLElements.ComponentsHTMLElement(e),a=0;a<t.length;a++)this.append(t[a]);this.removeChild(this.firstElementChild)}toString(){return this.outerHTML.toString()}static get is(){return"statuspage-components"}}}static get Incidents(){return class extends HTMLElement{static get observedAttributes(){return["data-json","data-url"]}set dataJson(e){"string"==typeof e&&(this._dataJson=JSON.parse(e)),"object"==typeof e&&(this._dataJson=e),null!=this._dataJson&&(this._incidentsElements=StatuspageHTMLElements.IncidentsHTMLElements(this._dataJson)),this.hasAttribute("data-json")||this.setAttribute("data-json",JSON.stringify(this._dataJson))}get dataJson(){return this._dataJson}set baseUrl(e){if("string"==typeof e&&URL.canParse(this._urlPath,e)){var t=new URL(this._urlPath,e);this._baseUrl=t.origin,this._url=t.href,this.hasAttribute("data-url")||this.setAttribute("data-url",this._baseUrl)}}get baseUrl(){return this._baseUrl}get url(){return this._url}get incidentElements(){return this._incidentsElements}constructor(){super(),this._urlPath="/api/v2/incidents.json",this._baseUrl=null,this._url=null,this._dataJson=null,this._incidentsElements=null}connectedCallback(){console.log(`Starting ${StatuspageWebComponents.Incidents.is}`),null!=this.url&&this.fetchIncidents(),null!=this.dataJson&&this.parseJson(),console.log(`Finished ${StatuspageWebComponents.Incidents.is}`)}attributeChangedCallback(e,t,a){console.log(StatuspageWebComponents.Incidents.is,e,t,a),"data-json"==e&&null!=a&&(this.dataJson=a),"data-url"==e&&null!=a&&(this.baseUrl=a)}fetchIncidents(){return new Promise((e,t)=>{navigator.onLine&&null!=this.url&&fetch(this.url).then(e=>e.json()).then(t=>{this.dataJson=t,this.parseJson(),e()}).catch(e=>t(e))})}parseJson(){"incidents"in this.dataJson&&this.replaceWith(StatuspageHTMLElements.IncidentsHTMLElements(this.dataJson)),"scheduled_maintenances"in this.dataJson&&this.replaceWith(StatuspageHTMLElements.IncidentsHTMLElements(this.dataJson))}toString(){return this.outerHTML.toString()}static get is(){return"statuspage-incidents"}}}static get Summary(){return class extends HTMLElement{static get observedAttributes(){return["data-url","data-single-request"]}set isSingleRequest(e){"boolean"==typeof e&&(this._isSingleRequest=e,!this.hasAttribute("data-single-request")&&this.setAttribute("data-single-request",this._isSingleRequest))}get isSingleRequest(){return this._isSingleRequest}set baseUrl(e){if("string"==typeof e){if(URL.canParse(this._urlPath,e)){var t=new URL(this._urlPath,e);this._baseUrl=t.origin,this._url=t.href}this.hasAttribute("data-url")||this.setAttribute("data-url",this.baseUrl)}}get baseUrl(){return this._baseUrl}get url(){return this._url}constructor(){super(),this._urlPath="/api/v2/summary.json",this._baseUrl=null,this._url=null,this._isLoading=!1,this._isSingleRequest=!0,this._dataJson=null}connectedCallback(){console.log(`Starting ${StatuspageWebComponents.Summary.is}`),this.singleRequest=!0,this.appendChild(StatuspageHTMLElements.LoadingHTMLElement),this.status=document.createElement(StatuspageWebComponents.Status.is,{is:StatuspageWebComponents.Status.is}),this.incidents=document.createElement(StatuspageWebComponents.Incidents.is,{is:StatuspageWebComponents.Incidents.is}),null==this.baseUrl?this.replaceWith(StatuspageHTMLElements.ErrorHTMLElement):navigator.onLine?this.isSingleRequest?this.fetchSummary():(this.status.baseUrl=this.baseUrl,this.incidents.baseUrl=this.baseUrl,this.firstElementChild.replaceWith(this.status),this.appendChild(this.incidents)):this.replaceWith(StatuspageHTMLElements.ErrorHTMLElement),console.log(`Finished ${StatuspageWebComponents.Summary.is}`)}attributeChangedCallback(e,t,a){console.log("attributeChangedCallback",e,t,a),"data-url"==e&&(this.baseUrl=a),"data-single-request"==e&&null!=a&&(this.isSingleRequest="true"===this.getAttribute("data-single-request").toLowerCase())}fetchSummary(){return new Promise((e,t)=>{fetch(this.url).then(e=>e.json()).then(t=>{this.parseJson(t),e()}).catch(e=>{t(e)})})}parseJson(e){return"status"in e?void(this.status.dataStatus=e.status.indicator,this.incidents.dataJson=e,this.firstElementChild.replaceWith(this.status),this.appendChild(this.incidents)):void this.firstElementChild.replaceWith(StatuspageHTMLElements.LoadingHTMLElement)}toString(){return this.outerHTML.toString()}static get is(){return"statuspage-summary"}}}static get HTMLWebComponent(){return class extends HTMLElement{constructor(){super(),this.htmlElement=document.createElement("html"),this.head=document.createElement("head"),this.body=document.createElement("body");var e=document.createElement(StatuspageWebComponents.Loading.is,{is:StatuspageWebComponents.Loading.is});this.body.appendChild(e),this.appendChild(this.head),this.appendChild(this.body)}connectedCallback(){this.replaceWith(this.htmlElement)}toString(){return this.outerHTML.toString()}static get is(){return"statuspage-html"}}}}customElements.define(StatuspageWebComponents.App.is,StatuspageWebComponents.App),customElements.define(StatuspageWebComponents.Error.is,StatuspageWebComponents.Error),customElements.define(StatuspageWebComponents.Loading.is,StatuspageWebComponents.Loading),customElements.define(StatuspageWebComponents.Status.is,StatuspageWebComponents.Status),customElements.define(StatuspageWebComponents.Component.is,StatuspageWebComponents.Component),customElements.define(StatuspageWebComponents.Components.is,StatuspageWebComponents.Components),customElements.define(StatuspageWebComponents.Incidents.is,StatuspageWebComponents.Incidents),customElements.define(StatuspageWebComponents.Summary.is,StatuspageWebComponents.Summary),customElements.define(StatuspageWebComponents.HTMLWebComponent.is,StatuspageWebComponents.HTMLWebComponent);