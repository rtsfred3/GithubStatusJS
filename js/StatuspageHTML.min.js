function StatuspageHTML(t,e=!0,s=!1,a=null,n=null){this.baseURL=t,this._name=a,this._description=n,"/"==this.baseURL.slice(-1)&&(this.baseURL=this.baseURL.substring(0,this.baseURL.length-1)),this.IndexHomeSingleRequest=e,this.errorMessage='<div class="size-max status-width bold error status-color"><span class="center-status">ERROR</span></div>',s&&this.fetchPsaAsync().then(),this.body='<div id="loading"><div class="full-status-height status-width bold status-color unavailable font-36"><span class="center-status">LOADING</span></div></div><div id="psa" class="psa hide bold status-color"></div><div id="mainHome" class="hide zed"><div id="status" class="status-height status-width status-shadow bold status-color unavailable"></div><div id="messages" class="messages"></div></div><div id="mainStatus" class="hide status-height status-width bold status-color unavailable"></div><div id="mainComponents" class="hide zed"></div>',document.body.innerHTML=this.body}StatuspageHTML.prototype.setName=function(t){return this._name=t,console.log("setName(): "+this._name),this},StatuspageHTML.prototype.getName=function(){return console.log("getName(): "+this._name),this._name},StatuspageHTML.prototype.setDescript=function(t,e=null){return this._description="An unofficial website to monitor "+t+" status updates. Currently being tested."+(null!=e?" | "+e:""),console.log("setDescript(): "+this._description),this},StatuspageHTML.prototype.getDescript=function(){return console.log("getDescription(): "+this._description),this._description},StatuspageHTML.prototype.fetchPsaAsync=async function(){console.log("fetchPsaAsync");let t=await fetch("/psa.json"),e=await t.json();this.setPSA(e),this.Components(e)},StatuspageHTML.prototype.IndexHome=function(){console.log("IndexHome"),this.IndexHomeAsync().then()},StatuspageHTML.prototype.IndexHomeAsync=async function(){if(console.log("IndexHomeAsync"),this.setUrl(),this.hideAllPages(),this.IndexHomeSingleRequest){let t=await fetch(this.baseURL+"/api/v2/summary.json"),e=await t.json();this.Status(e),this.Messages(e),this.setName(e.page.name),this.setDescript(e.page.name,e.status.description)}else{let s=await fetch(this.baseURL+"/api/v2/status.json"),a=await s.json(),n=await fetch(this.baseURL+"/api/v2/incidents.json"),o=await n.json();this.Status(a),this.Messages(o),this.setName(a.page.name),this.setDescript(a.page.name,a.status.description)}this.setDescriptions(),this.setTitle("Unofficial "+this.getName()+" Status"),this.showPage("mainHome")},StatuspageHTML.prototype.ComponentsHome=function(){console.log("ComponentsHome"),this.ComponentsHomeAsync().then()},StatuspageHTML.prototype.ComponentsHomeAsync=async function(){console.log("ComponentsHomeAsync"),this.hideAllPages();let t=await fetch(this.baseURL+"/api/v2/components.json"),e=await t.json();this.Components(e),this.setTitle("Unofficial "+e.page.name+" Status Components"),this.setName(e.page.name),this.setDescriptions(e.page.name),this.showPage("mainComponents")},StatuspageHTML.prototype.StatusHome=function(){console.log("StatusHome"),this.StatusHomeAsync().then()},StatuspageHTML.prototype.StatusHomeAsync=async function(){console.log("StatusHome"),this.hideAllPages();let t=await fetch(this.baseURL+"/api/v2/status.json"),e=await t.json();this.Status(e,!0),this.setTitle("Unofficial Mini "+e.page.name+" Status"),this.setName(e.page.name),this.setDescriptions(e.page.name,e.status.description),this.showPage("mainStatus")},StatuspageHTML.prototype.ErrorHome=function(){console.log("ErrorHome"),this.setTitle("Error Invalid Page"),this.setTheme("error"),this.createMetaTag("robots","noindex"),document.body.innerHTML=this.errorMessage},StatuspageHTML.prototype.setPSA=function(t){t.showPSA&&(document.getElementById("psa").innerHTML='<div class="center-status">'+t.PSA+"</div>",document.getElementById("psa").classList.remove("hide"))},StatuspageHTML.prototype.showPage=function(t){document.getElementById(t).classList.remove("hide"),document.getElementById("loading").classList.add("hide")},StatuspageHTML.prototype.hidePage=function(t){document.getElementById(t).classList.add("hide"),document.getElementById("loading").classList.remove("hide")},StatuspageHTML.prototype.hideAllPages=function(){this.hidePage("mainHome"),this.hidePage("mainStatus"),this.hidePage("mainComponents")},StatuspageHTML.prototype.setMetaTag=function(t,e){Array.from(document.getElementsByTagName("meta")).find(e=>(e.hasAttribute("property")?e.getAttribute("property"):e.getAttribute("name"))==t).setAttribute("content",e)},StatuspageHTML.prototype.getMetaTag=function(t){return Array.from(document.getElementsByTagName("meta")).find(e=>(e.hasAttribute("property")?e.getAttribute("property"):e.getAttribute("name"))==t).getAttribute("content")},StatuspageHTML.prototype.createMetaTag=function(t,e,s="name"){var a=document.createElement("meta");return a.setAttribute(s,t),a.setAttribute("content",e),document.head.append(a),this},StatuspageHTML.prototype.updateRichTest=function(t,e){var s=Array.from(document.getElementsByTagName("script")).find(t=>t.hasAttribute("type")&&"application/ld+json"==t.getAttribute("type")),a=JSON.parse(s.innerHTML);return Array.isArray(a)?a[0][t]=e:a[t]=e,s.innerHTML=JSON.stringify(a,null,4),this},StatuspageHTML.prototype.setUrl=function(t=null){var e=null==t?window.location.href:t;return this.setMetaTag("og:url",e),Array.from(document.getElementsByTagName("link")).find(t=>"canonical"==t.getAttribute("rel")).setAttribute("href",e),this.updateRichTest("url",e),this},StatuspageHTML.prototype.setTitle=function(t){return document.getElementsByTagName("title")[0].innerHTML=t,this.setMetaTag("twitter:title",t),this.setMetaTag("og:title",t),this.setMetaTag("application-name",t),this.setMetaTag("apple-mobile-web-app-title",t),this.updateRichTest("name",t),this},StatuspageHTML.prototype.setDescriptions=function(t=null,e=null){return null!=t&&this.setDescript(t,e),this.setMetaTag("description",this._description),this.setMetaTag("og:description",this._description),this.setMetaTag("twitter:description",this._description),this.updateRichTest("description",this._description),this},StatuspageHTML.prototype.setTheme=function(t){this.setMetaTag("theme-color",metaColors[t]),this.setMetaTag("apple-mobile-web-app-status-bar-style",metaColors[t])},StatuspageHTML.prototype.loadingMessages=function(){document.getElementById("messages").innerHTML='<div class="empty padding-none"><div class="font-36 margin-bottom">Loading</div></div>'},StatuspageHTML.prototype.setStatus=function(t,e=!1){this.setTheme("unavailable");var s=e?"mainStatus":"status";document.getElementById(s).classList.remove("unavailable"),document.getElementById(s).innerHTML='<span class="center-status">'+indicatorVals[t].toUpperCase()+"</span>",document.getElementById(s).classList.add("status-color"),document.getElementById(s).classList.add(t.toLowerCase()),"unavailable"==t.toLowerCase()?document.getElementById(s).classList.add("unavailable-font"):"unavailable"!=t.toLowerCase()&&document.getElementById(s).classList.contains("unavailable-font")&&document.getElementById(s).classList.remove("unavailable-font"),e&&(document.getElementById("mainHome").innerHTML="",document.getElementById(s).classList.remove("status-shadow"),document.getElementById(s).classList.remove("status-height"),document.getElementById("psa").classList.contains("hide")?document.getElementById(s).classList.add("full-status-height"):document.getElementById(s).classList.add("psa-full-status-height")),this.setTheme(t)},StatuspageHTML.prototype.Status=function(t,e=!1){this.setStatus(t.status.indicator,e)},StatuspageHTML.prototype.createMessage=function(t,e,s,a,n,o,r){var p={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},u="",l="resolved"==s?"good":e;void 0==l&&(l=indicatorMessages[s]),u+='<div class="status-box '+l+'-message"><span class="message-status"><div class="right">'+l+"</div></span></div>";var d=new Date(n).toLocaleDateString("en-US",p);if("do.githubstat.us"==location.hostname){p={month:"short",day:"2-digit",hour:"numeric",minute:"numeric"};var g=new Date(mess.incidents[i].incident_updates[j].created_at);g=Date.UTC(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate(),g.getUTCHours()+g.getTimezoneOffset()/60,g.getUTCMinutes(),g.getUTCSeconds()),d=new Date(g).toLocaleDateString("en-US",p)+" UTC"}return"<span>"+(u+='<div class="text-margin">'+(a=a.replace(/http(s)?:\/\/[^ ]+/g,(t,e,s,a,n)=>'<a href="'+t+'">here</a>.'))+"<br />"+(d='<span class="date empty">'+d+"</span>")+"</div>")+"</span>"},StatuspageHTML.prototype.Messages=function(t){var e=new Date;e.setHours(0,0,0);var s=e.setDate((new Date).getDate()-7),a=t.incidents.filter(function(t){return new Date(t.created_at)>s});if(0==a.length){document.getElementById("messages").innerHTML='<div class="empty padding-none"><div class="font-36 margin-bottom">All good.</div><div class="font-12">Nothing to see here folks. Looks like GitHub is up and running and has been stable for quite some time.<br /><br />Now get back to work!</div></div>';return}for(var n="",o=0;o<a.length;o++)if(a[o].incident_updates.length>0)for(var r=0;r<a[o].incident_updates.length;r++)n+=this.createMessage(a[o].name,a[o].impact,a[o].incident_updates[r].status,t.incidents[o].incident_updates[r].body,t.incidents[o].incident_updates[r].created_at,t.incidents[o].shortlink,r==a[o].incident_updates.length-1);document.getElementById("messages").innerHTML=n},StatuspageHTML.prototype.makeComponent=function(t,e=null,s=!1){return'<div id="mainStatus" class="component-height status-width bold '+(s?"black":"status-color")+" "+indicatorVals[t.status]+'"><span class="center-status">'+(null!=e?e+": ":"")+t.name+"</span></div>"},StatuspageHTML.prototype.compareComponents=function(t,e){return t.position<e.position?-1:t.position>e.position?1:0},StatuspageHTML.prototype.groupedComponents=function(t,e,s=null){var a;return this.makeComponent(t.filter(t=>t.id==e)[0],null,!0)+t.filter(t=>t.group_id==e).sort(this.compareComponents).map(t=>this.makeComponent(t,s)).join("")},StatuspageHTML.prototype.Components=function(t){var e="";t.components.filter(t=>!0==t.group).sort(this.compareComponents);for(var s=0;s<t.components.length;s++)"Visit"!=t.components[s].name.substring(0,5)&&(e+=this.makeComponent(t.components[s]));document.getElementById("mainComponents").innerHTML=e};