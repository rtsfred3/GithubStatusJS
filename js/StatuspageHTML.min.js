var metaColors={},indicatorVals={},indicatorMessages={};Object.defineProperties(metaColors,{none:{value:"#339966",enumerable:!0},minor:{value:"#DBAB09",enumerable:!0},major:{value:"#E25D10",enumerable:!0},critical:{value:"#DC3545",enumerable:!0},unavailable:{value:"#4F93BD",enumerable:!0},error:{value:"#646464",enumerable:!0},maintenance:{value:"#0366D6",enumerable:!0},psa:{value:"#D83D42",enumerable:!0},good:{enumerable:!0,get:function(){return this.none}},under_maintenance:{enumerable:!0,get:function(){return this.maintenance}},loading:{enumerable:!0,get:function(){return this.unavailable}}}),Object.defineProperties(indicatorVals,{good:{value:"good",enumerable:!0},minor:{value:"minor",enumerable:!0},major:{value:"major",enumerable:!0},critical:{value:"critical",enumerable:!0},error:{value:"error",enumerable:!0},maintenance:{value:"maintenance",enumerable:!0},unavailable:{value:"unavailable",enumerable:!0},loading:{value:"loading",enumerable:!0},resolved:{enumerable:!0,get:function(){return this.good}},none:{enumerable:!0,get:function(){return this.good}},operational:{enumerable:!0,get:function(){return this.good}},degraded_performance:{enumerable:!0,get:function(){return this.minor}},partial_outage:{enumerable:!0,get:function(){return this.major}},major_outage:{enumerable:!0,get:function(){return this.critical}},under_maintenance:{enumerable:!0,get:function(){return this.maintenance}}}),Object.defineProperties(indicatorMessages,{resolved:{value:"good",enumerable:!0},investigating:{value:"minor",enumerable:!0},critical:{value:"critical",enumerable:!0},maintenance:{value:"maintenance",enumerable:!0}});

class StatuspageHTML{constructor(a,b=!1,c=!0,d=!1){this.baseURL=a,this._fetchPsa=b,this._indexHomeSingleRequest=c,this._displayUTCTime=d,console.log("_indexHomeSingleRequest: "+this._indexHomeSingleRequest),this._name=null,this._description=null,this._showPsa=!1,this.psaRoute="/psa.json",this.loading=this.Status(this.getStatusJson("loading"),!0),this.render(this.loading),"/"==this.baseURL.slice(-1)&&(this.baseURL=this.baseURL.substring(0,this.baseURL.length-1)),b&&document.getElementById("psa")&&this.fetchPsaAsync().then(),this.noIncidentsTemplate="<div class=\"empty padding-none\"><div class=\"font-36 margin-bottom\">All good.</div><div class=\"font-12\">Nothing to see here folks. Looks like {} is up and running and has been stable for quite some time.<br /><br />Now get back to work!</div></div>",this.titleIndexTemplate="(Unofficial) {} Status",this.titleStatusTemplate="(Unofficial) Mini {} Status",this.titleComponentsTemplate="(Unofficial) {} Status Components",this.descriptionTemplate="An unofficial website to monitor {} status updates."}setName(a){return this._name=a,this}getName(){return this._name}setDescript(a,b=null){return this._description=this.descriptionTemplate.replace("{}",a)+(null==b?"":" | "+b),this}getDescript(){return this._description}async fetchPsaAsync(){console.log("fetchPsaAsync");const a=await fetch(this.psaRoute),b=await a.json();this.setPSA(b)}IndexHome(){console.log("IndexHome"),this.IndexHomeAsync().then()}async IndexHomeAsync(){if(this.setUrl(),this._indexHomeSingleRequest){const c=await fetch(this.baseURL+"/api/v2/summary.json"),d=await c.json();this.setName(d.page.name).setDescript(d.page.name,d.status.description);var a=this.Status(d),b=this.Messages(d);this.render(a+b)}else{const c=await fetch(this.baseURL+"/api/v2/status.json"),d=await c.json(),e=await fetch(this.baseURL+"/api/v2/incidents.json"),f=await e.json();this.setName(d.page.name).setDescript(d.page.name,d.status.description);var a=this.Status(d),b=this.Messages(f);this.render(a+b)}this.setTitle(this.titleIndexTemplate.replace("{}",this.getName())).setDescriptions()}ComponentsHome(){console.log("ComponentsHome"),this.ComponentsHomeAsync().then()}async ComponentsHomeAsync(){console.log("ComponentsHomeAsync");const a=await fetch(this.baseURL+"/api/v2/components.json"),b=await a.json();this.setName(b.page.name).setTitle(this.titleComponentsTemplate.replace("{}",this.getName())).setDescriptions(this.getName());var c=this.Components(b);this.render(c)}StatusHome(){console.log("StatusHome"),this.StatusHomeAsync().then()}async StatusHomeAsync(){const a=await fetch(this.baseURL+"/api/v2/status.json"),b=await a.json();this.setName(b.page.name).setDescript().setTitle(this.titleStatusTemplate.replace("{}",this.getName())).setDescriptions(this.getName(),b.status.description);var c=this.Status(b,!0);this.render(c)}ErrorHome(){console.log("ErrorHome"),this.setTitle("Error - Invalid Route").createMetaTag("robots","noindex");var a=this.Status(this.getStatusJson("error"),!0);this.render(a)}setPSA(a){return a.showPSA&&(document.getElementById("psa").innerHTML="<div class=\"center-status\">"+a.PSA+"</div>",document.getElementById("psa").classList.remove("hide"),this.setTheme("psa"),this._showPsa=!0),this}getStatusJson(a){return{status:{indicator:a}}}render(a){return document.getElementById("app").innerHTML=a,this}setMetaTag(a,b){let c=Array.from(document.getElementsByTagName("meta"));var d=c.find(b=>(b.hasAttribute("property")?b.getAttribute("property"):b.getAttribute("name"))==a);return d.setAttribute("content",b),this}getMetaTag(a){let b=Array.from(document.getElementsByTagName("meta"));var c=b.find(b=>(b.hasAttribute("property")?b.getAttribute("property"):b.getAttribute("name"))==a);return c.getAttribute("content")}createMetaTag(a,b,c="name"){let d=Array.from(document.getElementsByTagName("meta"));var e=d.filter(b=>b.getAttribute(c)==a);if(0<e.length)return console.error("meta tag already exists"),this;var f=document.createElement("meta");return f.setAttribute(c,a),f.setAttribute("content",b),document.head.append(f),this}updateRichTest(a,b){var c=Array.from(document.getElementsByTagName("script")).find(a=>a.hasAttribute("type")&&"application/ld+json"==a.getAttribute("type"));if(null==c)return this;var d=JSON.parse(c.innerHTML);return Array.isArray(d)?d[0][a]=b:d[a]=b,c.innerHTML=JSON.stringify(d,null,4),this}setUrl(a=null){var b=null==a?window.location.href:a;this.setMetaTag("og:url",b);let c=Array.from(document.getElementsByTagName("link"));var d=c.find(a=>"canonical"==a.getAttribute("rel"));return d.setAttribute("href",b),this.updateRichTest("url",b),this}setTitle(a){return document.getElementsByTagName("title")[0].innerHTML=a,this.setMetaTag("twitter:title",a).setMetaTag("og:title",a).setMetaTag("application-name",a).setMetaTag("apple-mobile-web-app-title",a).updateRichTest("name",a),this}setDescriptions(a=null,b=null){return null!=a&&this.setDescript(a,b),this.setMetaTag("description",this.getDescript()).setMetaTag("og:description",this.getDescript()).setMetaTag("twitter:description",this.getDescript()).updateRichTest("description",this.getDescript()),this}setTheme(a){var b=this._showPsa||"psa"==a?metaColors.psa:metaColors[a];return this.setMetaTag("theme-color",b).setMetaTag("apple-mobile-web-app-status-bar-style",b),this}getStatus(a,b=!1){console.log("getStatus()");var c=b?document.getElementById("psa").classList.contains("hide")?"full-status-height":"psa-full-status-height":"status-height status-shadow";return"<div id=\"status\" class=\""+c+" status-width bold status-color "+a.toLowerCase()+"\"><span class=\"center-status\">"+indicatorVals[a].toUpperCase()+"</span></div>"}Status(a,b=!1){return console.log("Status()"),this.setTheme(a.status.indicator).getStatus(a.status.indicator,b)}createMessage(a,b,c,d,e){var f={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},g="",h="resolved"==c?"good":b;null==h&&(h=indicatorMessages[c]),g+="<div class=\"status-box "+h+"-message\"><span class=\"message-status\"><div class=\"right\">"+h+"</div></span></div>";var i=new Date(e).toLocaleDateString("en-US",f);if(this._displayUTCTime){f={month:"short",day:"2-digit",hour:"numeric",minute:"numeric"};var j=new Date(e);j=Date.UTC(j.getUTCFullYear(),j.getUTCMonth(),j.getUTCDate(),j.getUTCHours()+j.getTimezoneOffset()/60,j.getUTCMinutes(),j.getUTCSeconds()),i=new Date(j).toLocaleDateString("en-US",f)+" UTC"}return d=d.replace(/http(s)?:\/\/[^ ]+/g,a=>"<a href=\""+a+"\">here</a>."),i="<span class=\"date empty\">"+i+"</span>",g+="<div class=\"text-margin\">"+d+"<br />"+i+"</div>","<span>"+g+"</span>"}Messages(a){var b="",c=new Date;c.setHours(0,0,0);var d=c.setDate(new Date().getDate()-7),e=a.incidents.filter(function(a){return new Date(a.created_at)>d});if(0==e.length)b=this.noIncidentsTemplate.replace("{}",this.getName());else for(var f=0;f<e.length;f++)if(0<e[f].incident_updates.length)for(var g=0;g<e[f].incident_updates.length;g++)b+=this.createMessage(e[f].name,e[f].impact,e[f].incident_updates[g].status,a.incidents[f].incident_updates[g].body,a.incidents[f].incident_updates[g].created_at,a.incidents[f].shortlink,g==e[f].incident_updates.length-1);return"<div id=\"messages\" class=\"messages\">"+b+"</div>"}makeComponent(a){return"<div"+(null==a.id?"":" id=\""+a.id+"\"")+" class=\"component-height status-width bold status-color "+indicatorVals[a.status]+"\"><span class=\"center-status\">"+a.name+"</span></div>"}compareComponents(c,a){if(c.position<a.position)return-1;return c.position>a.position?1:0}groupedComponents(a,b,c=null){var d=this.makeComponent(a.filter(a=>a.id==b)[0],null,!0),e=a.filter(a=>a.group_id==b).sort(this.compareComponents);return d+e.map(a=>this.makeComponent(a,c)).join("")}Components(a){var b="";this.setTheme(indicatorVals[a.components[0].status]);for(var c=0;c<a.components.length;c++)"Visit"!=a.components[c].name.substring(0,5)&&(b+=this.makeComponent(a.components[c]));return b}}function Router(a,b=!1,c=!0,d=!1){var e=new StatuspageHTML(a,b,c,d);try{var f=null!=location.host.match(/(spa|master|staging|[1-9A-Za-z-_]+)\.ghstatus\.pages\.dev/g),g=null!=location.host.match(/(githubstat.us|ghstatuspagehtml.b-cdn.net|ghstat.us)/g);navigator.onLine?g||f?"/"==location.pathname?e.IndexHome():"/components/"==location.pathname?e.ComponentsHome():"/status/"==location.pathname?e.StatusHome():e.ErrorHome():e.IndexHome():e.ErrorHome()}catch(a){e.ErrorHome()}}