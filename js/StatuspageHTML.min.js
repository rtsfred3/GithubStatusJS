class StatuspageDictionary{static get SiteNameValue(){return"{{SiteName}}"}static get replaceableStringValue(){return"{}"}static get StatuspageHTMLTemplates(){return Object.freeze({template_title_index:`(Unofficial) ${StatuspageDictionary.replaceableStringValue} Status`,template_title_status:`(Unofficial) Mini ${StatuspageDictionary.replaceableStringValue} Status`,template_title_components:`(Unofficial) ${StatuspageDictionary.replaceableStringValue} Status Components`,template_title_amp:`(Unofficial) ${StatuspageDictionary.replaceableStringValue} Status AMP`,template_title_maintenance:`Under Maintenance`,template_title_error:`(Unofficial) ${StatuspageDictionary.replaceableStringValue} Status - Error`,template_descrisption:`An unofficial website to monitor ${StatuspageDictionary.replaceableStringValue} status updates.`,get[this.PathNames.Index](){return this.template_title_index.replace(this.replaceableStringValue,this.SiteNameValue)},get[this.PathNames.Status](){return this.template_title_status.replace(this.replaceableStringValue,this.SiteNameValue)},get[this.PathNames.Components](){return this.template_title_components.replace(this.replaceableStringValue,this.SiteNameValue)},get[this.PathNames.Amp](){return this.template_title_amp.replace(this.replaceableStringValue,this.SiteNameValue)},get[this.PathNames.Maintenance](){return this.template_title_maintenance.replace(this.replaceableStringValue,this.SiteNameValue)},get[this.PathNames.Error](){return this.template_title_error.replace(this.replaceableStringValue,this.SiteNameValue)},get[this.PathNames.Description](){return this.template_descrisption.replace(this.replaceableStringValue,this.SiteNameValue)}})}static get StatusEnums(){return Object.freeze({good:"good",minor:"minor",major:"major",critical:"critical",error:"error",maintenance:"maintenance",unavailable:"unavailable",loading:"loading",none:"none",resolved:"resolved",operational:"operational",degraded_performance:"degraded_performance",partial_outage:"partial_outage",major_outage:"major_outage",under_maintenance:"under_maintenance"})}static get MetaColors(){return Object.freeze({[this.StatusEnums.none]:"#339966",[this.StatusEnums.minor]:"#DBAB09",[this.StatusEnums.major]:"#E25D10",[this.StatusEnums.critical]:"#DC3545",[this.StatusEnums.unavailable]:"#4F93BD",[this.StatusEnums.error]:"#646464",[this.StatusEnums.maintenance]:"#0366D6",psa:"#D83D42",get[StatuspageDictionary.StatusEnums.good](){return this.none},get[StatuspageDictionary.StatusEnums.under_maintenance](){return this.maintenance},get[StatuspageDictionary.StatusEnums.loading](){return this.unavailable},get[StatuspageDictionary.StatusEnums.operational](){return this.none},get[StatuspageDictionary.StatusEnums.degraded_performance](){return this.minor},get[StatuspageDictionary.StatusEnums.partial_outage](){return this.major}})}static get IndicatorVals(){return Object.freeze({[this.StatusEnums.good]:this.StatusEnums.good,[this.StatusEnums.minor]:this.StatusEnums.minor,[this.StatusEnums.major]:this.StatusEnums.major,[this.StatusEnums.critical]:this.StatusEnums.critical,[this.StatusEnums.error]:this.StatusEnums.error,[this.StatusEnums.maintenance]:this.StatusEnums.maintenance,[this.StatusEnums.unavailable]:this.StatusEnums.unavailable,[this.StatusEnums.loading]:this.StatusEnums.loading,get[StatuspageDictionary.StatusEnums.resolved](){return this.good},get[StatuspageDictionary.StatusEnums.none](){return this.good},get[StatuspageDictionary.StatusEnums.operational](){return this.good},get[StatuspageDictionary.StatusEnums.degraded_performance](){return this.minor},get[StatuspageDictionary.StatusEnums.partial_outage](){return this.major},get[StatuspageDictionary.StatusEnums.major_outage](){return this.critical},get[StatuspageDictionary.StatusEnums.under_maintenance](){return this.maintenance}})}static get IndicatorMessages(){return Object.freeze({[this.StatusEnums.resolved]:this.StatusEnums.good,[this.StatusEnums.minor]:this.StatusEnums.minor,[this.StatusEnums.major]:this.StatusEnums.major,[this.StatusEnums.critical]:this.StatusEnums.critical})}static get Paths(){return Object.freeze({[this.PathNames.Index]:"/",[this.PathNames.Status]:"/status/",[this.PathNames.Components]:"/components/",[this.PathNames.Amp]:"/amp/"})}static get PathNames(){return Object.freeze({Index:"Index",Status:"Status",Component:"Component",Components:"Components",Amp:"Amp",Maintenance:"Maintenance",Error:"Error",Description:"Description"})}}class StatuspageHTMLElements{static get AllGoodElement(){const a=document.createElement("div");return a.classList.add("messages-empty-all-good"),a.textContent="All good.",a}static NoIncidentsElement(a){const b=document.createElement("div");b.classList.add("messages-empty");const c=document.createElement("div");return c.classList.add("messages-empty-body"),c.appendChild(document.createTextNode(`Nothing to see here folks. Looks like ${a} is up and running and has been stable for quite some time.`)),c.append(document.createElement("br"),document.createElement("br")),c.appendChild(document.createTextNode("Now get back to work!")),b.append(StatuspageHTMLElements.AllGoodElement,c),b}static GetStatusJson(a){return{status:{indicator:a in StatuspageDictionary.StatusEnums?a:StatuspageDictionary.StatusEnums.error}}}static GenerateAttributes(a){var b=Object.entries(a).map(a=>null==a[1]?`${a[0]}`:`${a[0]}="${a[1]}"`);return b.join(" ")}static ComponentsHTMLElement(a){var b=[];if(!("object"==typeof a&&"components"in a))return b;for(var c=0;c<a.components.length;c++)if("Visit"!=a.components[c].name.substring(0,5)){var d=document.createElement(StatuspageWebComponents.Component.is,{is:StatuspageWebComponents.Component.is});d.id=a.components[c].id,d.dataStatus=StatuspageDictionary.IndicatorVals[a.components[c].status],d.dataMessage=a.components[c].name,b.push(d)}return b}static MessageBodyElement(a,b){var c=document.createElement("div");c.classList.add("message-body");var d=document.createElement("span");d.classList.add("date"),d.textContent=b;var e=document.createElement("div");return e.textContent=a,c.appendChild(e),c.appendChild(d),c}static MessageStatusElement(a){var b=document.createElement("div");return b.dataset.impact=a,b}static MessageHTMLElement(a,b,c,d,e,f,g,h,i){var j={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},k=d==StatuspageDictionary.StatusEnums.resolved?StatuspageDictionary.StatusEnums.good:c;null==k&&(k=StatuspageDictionary.IndicatorMessages[d]);var l=new Date(f).toLocaleDateString("en-US",j);if(i){j={month:"short",day:"2-digit",hour:"numeric",minute:"numeric"};var m=new Date(f);m=Date.UTC(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate(),m.getUTCHours()+m.getTimezoneOffset()/60,m.getUTCMinutes(),m.getUTCSeconds()),l=new Date(m).toLocaleDateString("en-US",j)+" UTC"}const n=document.createElement("span");return n.id=a,n.appendChild(this.MessageStatusElement(k)),n.appendChild(this.MessageBodyElement(e,l)),n}static IncidentsHTMLElements(a,b=7,c=!1,d=!1){var e=new Date;e.setHours(0,0,0);var f=e.setDate(new Date().getDate()-b),g=[];"incidents"in a&&(g=g.concat(0==b?a.incidents:a.incidents.filter(function(a){return new Date(a.created_at)>f}))),"scheduled_maintenances"in a&&d&&(g=g.concat(0==b?a.scheduled_maintenances:a.scheduled_maintenances.filter(function(a){return new Date(a.created_at)>f&&"in_progress"==a.status}))),g.forEach(a=>{a.created_at=new Date(a.created_at),a.started_at=new Date(a.started_at),a.updated_at=new Date(a.updated_at),a.incident_updates.forEach(a=>{a.created_at=new Date(a.created_at),a.display_at=new Date(a.display_at),a.updated_at=new Date(a.updated_at)})}),g=g.sort((c,a)=>a.created_at-c.created_at);var h=document.createElement("div");if(h.id="messages",h.classList.add("messages"),0==g.length)h.appendChild(StatuspageHTMLElements.NoIncidentsElement(a.page.name));else for(var k=0;k<g.length;k++)if(0<g[k].incident_updates.length){const a=document.createElement("span");a.id=g[k].id;for(var l=0;l<g[k].incident_updates.length;l++)a.appendChild(StatuspageHTMLElements.MessageHTMLElement(g[k].incident_updates[l].id,g[k].name,g[k].impact,g[k].incident_updates[l].status,g[k].incident_updates[l].body,g[k].incident_updates[l].created_at,g[k].shortlink,l==g[k].incident_updates.length-1,c));h.appendChild(a)}return h}static GetLinkTag(a){let b=Array.from(document.getElementsByTagName("link"));return b.find(b=>b.getAttribute("rel")==a)}static SetLinkTag(a,b){if("string"==typeof a){if(null!=StatuspageHTMLElements.GetLinkTag(a))StatuspageHTMLElements.GetLinkTag(a).setAttribute("href",b);else{var c=document.getElementsByTagName("head");0<c.length&&c[0].appendChild(this.LinkTag(a,b))}}else if(Array.isArray(a))for(var d=0;d<a.length;d++)StatuspageHTMLElements.SetLinkTag(a[d],b)}static GetMetaTag(a,b="name"){b=a.startsWith("og:")?"property":b;let c=Array.from(document.getElementsByTagName("meta"));return c.find(c=>c.hasAttribute(b)&&c.getAttribute(b)==a)}static SetMetaTag(a,b,c="name"){if("string"==typeof a){if(null!=StatuspageHTMLElements.GetMetaTag(a,c))StatuspageHTMLElements.GetMetaTag(a,c).setAttribute("content",b);else{var d=document.getElementsByTagName("head");0<d.length&&d[0].appendChild(this.MetaTag(a,b))}}else if(Array.isArray(a))for(var e=0;e<a.length;e++)StatuspageHTMLElements.SetMetaTag(a[e],b,c)}static SetThemeColor(a){var b=StatuspageDictionary.MetaColors[a];StatuspageHTMLElements.SetMetaTag(["theme-color","apple-mobile-web-app-status-bar-style"],b)}static LinkTagValues(a,b,c,d){return{canonical:a,icon:c,"apple-touch-icon":d,"dns-prefetch":b,preconnect:b}}static MetaTagValues(a,b,c,d,e,f,g=[],h=null,i=null,j=null){return null==i&&(i=StatuspageDictionary.StatuspageHTMLTemplates[d].replace(StatuspageDictionary.SiteNameValue,c)),null==j&&(j=StatuspageDictionary.StatuspageHTMLTemplates.template_descrisption.replace(StatuspageDictionary.replaceableStringValue,c)),null!=h&&(j=null==j?h:`${j} ${h}`),{author:f,"application-name":i,"theme-color":e,description:j,keywords:g.join(", "),"og:site_name":i,"og:title":i,"og:description":j,"og:type":"website","og:url":a,"og:image":b,"twitter:card":"summary","twitter:title":i,"twitter:description":j,"twitter:image":b,"mobile-web-app-capable":"yes","apple-mobile-web-app-capable":"yes","apple-mobile-web-app-status-bar-style":e,"apple-mobile-web-app-title":i,viewport:"width=device-width, initial-scale=1.0, user-scalable=0.0",HandheldFriendly:"true"}}static UpdateMetaTags(a,b,c,d,e,f,g=[],h=null){var i=StatuspageHTMLElements.MetaTagValues(a,b,c,d,e,f,g,h);for(const[j,k]of Object.entries(i))null!=k&&(StatuspageHTMLElements.SetMetaTag(j,k),"description"==j&&StatuspageHTMLElements.SetMetaTag(j,k,"itemprop"));StatuspageHTMLElements.SetMetaTag("image",b,"itemprop")}static MetaTag(a,b,c="name"){var d=document.createElement("meta");return d.setAttribute(c,a),d.content=b,d}static LinkTag(a,b){var c=document.createElement("link");return c.rel=a,c.href=b,"icon"==a&&(c.type="image/x-icon"),c}static UpdateLinkTags(a,b,c,d){var e=StatuspageHTMLElements.LinkTagValues(a,b,c,d);for(const[f,g]of Object.entries(e))null!=g&&StatuspageHTMLElements.SetLinkTag(f,g)}static LinkTagElements(a,b,c,d){var e=StatuspageHTMLElements.LinkTagValues(a,b,c,d),f=[];for(const[g,h]of Object.entries(e))null!=h&&f.push(StatuspageHTMLElements.LinkTag(g,h));return f}static MetaTagsHTMLElements(a,b,c,d,e,f,g=[],h=null){var i=StatuspageHTMLElements.MetaTagValues(a,b,c,d,e,f,g,h),j=[];for(const[l,k]of Object.entries(i))null!=k&&j.push(StatuspageHTMLElements.MetaTag(l,k,l.includes("og:")?"property":"name"));return j}static UpdateUrlTags(a){StatuspageHTMLElements.SetLinkTag("canonical",a),StatuspageHTMLElements.SetMetaTag("og:url",a)}static HeadElement(a,b,c,d,e,f,g,h,i=[],j=null){var k=document.createElement("head"),l=StatuspageHTMLElements.LinkTagElements(a,b,c,d),m=StatuspageHTMLElements.MetaTagsHTMLElements(a,d,e,f,g,h,i,j);for(let m of l)k.appendChild(m);for(let l of m)k.appendChild(l);var n=document.createElement("title");return n.innerHTML=StatuspageDictionary.StatuspageHTMLTemplates[f].replace(StatuspageDictionary.SiteNameValue,e),k.append(n),k}}class StatuspageWebComponents{static get App(){return class extends HTMLElement{constructor(){super()}connectedCallback(){if(console.log(`Starting ${StatuspageWebComponents.App.is}`),this.id="app",this.appendChild(StatuspageWebComponents.Loading.toHTML()),this.hasAttribute("data-url"))if(this.url=this.getAttribute("data-url"),this.removeAttribute("data-url"),location.pathname==StatuspageDictionary.Paths.Index){StatuspageHTMLElements.UpdateUrlTags(location.href);var a=document.createElement(StatuspageWebComponents.Summary.is,{is:StatuspageWebComponents.Summary.is});a.baseUrl=this.url,a.isSingleRequest=!0,this.firstElementChild.replaceWith(a)}else if(location.pathname==StatuspageDictionary.Paths.Components||location.pathname.endsWith(StatuspageDictionary.Paths.Components)){StatuspageHTMLElements.UpdateUrlTags(location.href);var b=document.createElement(StatuspageWebComponents.Components.is,{is:StatuspageWebComponents.Components.is});b.setAttribute("data-url",this.url),this.firstElementChild.replaceWith(b)}else if(location.pathname==StatuspageDictionary.Paths.Status||location.pathname.endsWith(StatuspageDictionary.Paths.Status)){var c=document.createElement(StatuspageWebComponents.Status.is,{is:StatuspageWebComponents.Status.is});c.baseUrl=this.url,c.fullScreen=!0,this.firstElementChild.replaceWith(c)}else{StatuspageHTMLElements.UpdateUrlTags(location.href);var a=document.createElement(StatuspageWebComponents.Summary.is,{is:StatuspageWebComponents.Summary.is});a.baseUrl=this.url,a.isSingleRequest=!0,this.removeChild(this.firstChild),this.appendChild(a)}console.log(`Finished ${StatuspageWebComponents.App.is}`)}toString(){return this.outerHTML.toString()}static get is(){return"statuspage-app"}}}static get StatusElement(){return class extends HTMLElement{constructor(a){super(),this.status=a}connectedCallback(){StatuspageHTMLElements.SetThemeColor(this.status)}toString(){return this.outerHTML.toString()}static get is(){return"status-element"}static toHTML(){return document.createElement(this.is,{is:this.is})}static toString(){return`<${this.is}></${this.is}>`}}}static get Error(){return class extends StatuspageWebComponents.StatusElement{constructor(){super(StatuspageDictionary.StatusEnums.error)}static get is(){return"statuspage-error"}}}static get Loading(){return class extends StatuspageWebComponents.StatusElement{constructor(){super(StatuspageDictionary.StatusEnums.loading)}static get is(){return"statuspage-loading"}}}static get Unavailable(){return class extends StatuspageWebComponents.StatusElement{constructor(){super(StatuspageDictionary.StatusEnums.unavailable)}static get is(){return"statuspage-unavailable"}}}static get Status(){return class extends HTMLElement{static get observedAttributes(){return["data-status","data-url","status","fullscreen"]}set isLoading(a){"boolean"==typeof a&&this.data._isLoadingEnabled&&(this.data._isLoading=a,!this.data._isLoading&&(null==this.data._status?null==this.data._status&&this.removeAttribute("data-status"):this.setAttribute("data-status",this.data._status),!this.data._fullScreen&&this.hasAttribute("fullScreen")&&this.removeAttribute("fullScreen"),this.data._fullScreen&&!this.hasAttribute("fullScreen")&&this.setAttribute("fullScreen","")),this.data._isLoading&&(this.setAttribute("data-status",StatuspageDictionary.StatusEnums.loading),!this.hasAttribute("fullScreen")&&this.setAttribute("fullScreen","")))}get isLoading(){return this.data._isLoading}set fullScreen(a){"boolean"==typeof a?(this.data._fullScreen=a,this.data._isFullScreenSet=!0,this.data._fullScreen?!this.hasAttribute("fullScreen")&&this.setAttribute("fullScreen",""):this.removeAttribute("fullScreen")):console.error(`'${a}' is not a boolean.`)}get fullScreen(){return this.data._fullScreen}set dataStatus(a){"string"==typeof a&&a in StatuspageDictionary.StatusEnums?(this.data._status=a,this.dataset.status=a,this.hasAttribute("status")&&this.removeAttribute("status"),StatuspageHTMLElements.SetThemeColor(this.data._status),null==this.data._fullScreen&&(this.data._fullScreen=!1)):"string"==typeof a?console.error(`'${a}' is not a valid status.`):console.error(`'${a}' is not a string.`)}get dataStatus(){return this.data._status}set baseUrl(a){if("string"==typeof a&&URL.canParse(this.data._urlPath,a)){var b=new URL(this.data._urlPath,a);this.data._baseUrl=b.origin,this.data._url=b.href,this.data._isLoadingEnabled=!0,"url"in this.dataset||(this.dataset.url=this.data._baseUrl)}}get baseUrl(){return this.data._baseUrl}get url(){return this.data._url}set isRefreshEnabled(a){"boolean"==typeof a&&(this.data._refreshEnabled=a)}get isRefreshEnabled(){return this.data._refreshEnabled}set refreshTime(a){"number"==typeof a&&(this.data._refreshTime=a)}get refreshTime(){return this.data._refreshTime}set dataJson(a){"object"==typeof a&&(this.data._dataJson=a,"status"in this.data._dataJson&&"indicator"in this.data._dataJson.status&&(this.dataStatus=this.data._dataJson.status.indicator))}constructor(){super(),this.data={_urlPath:"/api/v2/status.json",_baseUrl:null,_url:null,_fullScreen:null,_isLoading:!1,_status:void 0,_dataJson:null,_isFullScreenSet:!1,_isLoadingEnabled:!1,_refreshEnabled:!1,_refreshTime:5}}connectedCallback(){console.log(`Starting ${StatuspageWebComponents.Status.is}`),this.isLoading=!0,StatuspageHTMLElements.UpdateUrlTags(location.href),null!=this.baseUrl&&(navigator.onLine?this.fetchStatus():this.setError()),this.isLoading=!1,console.log(this.toString()),console.log(`Finished ${StatuspageWebComponents.Status.is}`)}attributeChangedCallback(a,b,c){"status"==a&&null!=c&&c in StatuspageDictionary.StatusEnums&&(this.dataStatus=c),"data-status"==a&&null!=c&&c in StatuspageDictionary.StatusEnums&&(this.data._status=c,StatuspageHTMLElements.SetThemeColor(c)),"data-url"==a&&(this.baseUrl=c),"fullscreen"!=a||this.data._isFullScreenSet||this.isLoading||(this.fullScreen=null!=c)}fetchStatus(){return new Promise((a,b)=>{navigator.onLine&&null!=this.url&&fetch(this.url).then(a=>a.json()).then(b=>{"status"in b&&"indicator"in b.status&&(this.dataStatus=b.status.status),a()}).catch(a=>{this.setError(),b(a)})})}setError(){this.dataStatus=StatuspageDictionary.StatusEnums.error,this.fullScreen=!0}toString(){return this.outerHTML.toString()}static get is(){return"statuspage-status"}static toHTML(a,b=!1){var c=document.createElement(this.is,{is:this.is});return c.dataStatus=a,c.fullScreen=b,c}static staticHTML(a,b=!1){var c={"data-status":a};return b&&(c.fullScreen=null),`<${this.is} ${StatuspageHTMLElements.GenerateAttributes(c)}></${this.is}>`}}}static get Component(){return class extends HTMLElement{set dataStatus(a){"string"==typeof a&&(this.dataset.status=a)}get dataStatus(){return this.dataset.status}set dataMessage(a){"string"==typeof a&&(this.dataset.message=a)}get dataMessage(){return this.dataset.message}constructor(){super()}toString(){return this.outerHTML.toString()}static get is(){return"statuspage-component"}static staticHTML(a,b){return`<${this.is} ${StatuspageHTMLElements.GenerateAttributes({"data-status":a,"data-message":b})}></${this.is}>`}}}static get Components(){return class extends HTMLElement{constructor(){super()}connectedCallback(){console.log(`Starting ${StatuspageWebComponents.Components.is}`),this.appendChild(StatuspageWebComponents.Loading.toHTML()),this.hasAttribute("data-json")?this.parseJson(JSON.parse(this.getAttribute("data-json"))):this.hasAttribute("data-url")?this.fetchComponents(this.getAttribute("data-url")):this.replaceWith(StatuspageWebComponents.Error.toHTML()),console.log(`Finished ${StatuspageWebComponents.Components.is}`)}fetchComponents(a){return new Promise((b,c)=>{var d="/"==a.slice(-1)?a.substring(0,a.length-1):a;fetch(d+"/api/v2/components.json").then(a=>a.json()).then(a=>{this.parseJson(a),b()}).catch(a=>c(a))})}parseJson(a){for(var b=StatuspageHTMLElements.ComponentsHTMLElement(a),c=0;c<b.length;c++)this.append(b[c]);this.removeChild(this.firstElementChild)}toString(){return this.outerHTML.toString()}static get is(){return"statuspage-components"}}}static get Incidents(){return class extends HTMLElement{static get observedAttributes(){return["data-json","data-url"]}set dataJson(a){"string"==typeof a&&(this._dataJson=JSON.parse(a)),"object"==typeof a&&(this._dataJson=a),null!=this._dataJson&&(this._incidentsElements=StatuspageHTMLElements.IncidentsHTMLElements(this._dataJson))}get dataJson(){return this._dataJson}set baseUrl(a){if("string"==typeof a&&URL.canParse(this._urlPath,a)){var b=new URL(this._urlPath,a);this._baseUrl=b.origin,this._url=b.href,this.dataset.url||(this.dataset.url=this._baseUrl)}}get baseUrl(){return this._baseUrl}get url(){return this._url}get incidentElements(){return this._incidentsElements}constructor(){super(),this._urlPath="/api/v2/incidents.json",this._baseUrl=null,this._url=null,this._dataJson=null,this._incidentsElements=null}connectedCallback(){console.log(`Starting ${StatuspageWebComponents.Incidents.is}`),null!=this.url&&this.fetchIncidents(),null!=this.incidentElements&&this.replaceWith(this.incidentElements),console.log(`Finished ${StatuspageWebComponents.Incidents.is}`)}attributeChangedCallback(a,b,c){"data-json"==a&&null!=c&&(this.dataJson=c),"data-url"==a&&null!=c&&(this.baseUrl=c)}fetchIncidents(){return new Promise((a,b)=>{navigator.onLine&&null!=this.url&&fetch(this.url).then(a=>a.json()).then(b=>{this.dataJson=b,a()}).catch(a=>b(a))})}toString(){return this.outerHTML.toString()}static get is(){return"statuspage-incidents"}}}static get Summary(){return class extends HTMLElement{static get observedAttributes(){return["data-url","data-single-request"]}set isSingleRequest(a){"boolean"==typeof a&&(this._isSingleRequest=a,!this.dataset.singleRequest&&(this.dataset.singleRequest=a))}get isSingleRequest(){return this._isSingleRequest}set baseUrl(a){if("string"==typeof a){if(URL.canParse(this._urlPath,a)){var b=new URL(this._urlPath,a);this._baseUrl=b.origin,this._url=b.href}this.dataset.url||(this.dataset.url=this.baseUrl)}}get baseUrl(){return this._baseUrl}get url(){return this._url}constructor(){super(),this._urlPath="/api/v2/summary.json",this._baseUrl=null,this._url=null,this._isLoading=!1,this._isSingleRequest=!0,this._dataJson=null}connectedCallback(){console.log(`Starting ${StatuspageWebComponents.Summary.is}`),this.singleRequest=!0,this.appendChild(StatuspageWebComponents.Loading.toHTML()),this.status=document.createElement(StatuspageWebComponents.Status.is,{is:StatuspageWebComponents.Status.is}),this.incidents=document.createElement(StatuspageWebComponents.Incidents.is,{is:StatuspageWebComponents.Incidents.is}),null==this.baseUrl?this.replaceWith(StatuspageWebComponents.Error.toHTML()):navigator.onLine?this.isSingleRequest?this.fetchSummary():(this.status.baseUrl=this.baseUrl,this.incidents.baseUrl=this.baseUrl,this.firstElementChild.replaceWith(this.status),this.appendChild(this.incidents)):this.replaceWith(StatuspageWebComponents.Error.toHTML()),console.log(`Finished ${StatuspageWebComponents.Summary.is}`)}attributeChangedCallback(a,b,c){"data-url"==a&&(this.baseUrl=c),"data-single-request"==a&&null!=c&&(this.isSingleRequest="true"===this.dataset.singleRequest.toLowerCase())}fetchSummary(){return new Promise((a,b)=>{fetch(this.url).then(a=>a.json()).then(b=>{this.parseJson(b),a()}).catch(a=>{b(a)})})}parseJson(a){return"status"in a?void(this.status.dataStatus=a.status.indicator,this.incidents.dataJson=a,this.firstElementChild.replaceWith(this.status),this.appendChild(this.incidents)):void this.firstElementChild.replaceWith(StatuspageWebComponents.Loading.toHTML())}toString(){return this.outerHTML.toString()}static get is(){return"statuspage-summary"}}}static get HTMLWebComponent(){return class extends HTMLElement{constructor(){super(),this.htmlElement=document.createElement("html"),this.head=document.createElement("head"),this.body=document.createElement("body");var a=document.createElement(StatuspageWebComponents.Loading.is,{is:StatuspageWebComponents.Loading.is});this.body.appendChild(a),this.appendChild(this.head),this.appendChild(this.body)}connectedCallback(){this.replaceWith(this.htmlElement)}toString(){return this.outerHTML.toString()}static get is(){return"statuspage-html"}}}}customElements.define(StatuspageWebComponents.App.is,StatuspageWebComponents.App),customElements.define(StatuspageWebComponents.Error.is,StatuspageWebComponents.Error),customElements.define(StatuspageWebComponents.Loading.is,StatuspageWebComponents.Loading),customElements.define(StatuspageWebComponents.Unavailable.is,StatuspageWebComponents.Unavailable),customElements.define(StatuspageWebComponents.Status.is,StatuspageWebComponents.Status),customElements.define(StatuspageWebComponents.Component.is,StatuspageWebComponents.Component),customElements.define(StatuspageWebComponents.Components.is,StatuspageWebComponents.Components),customElements.define(StatuspageWebComponents.Incidents.is,StatuspageWebComponents.Incidents),customElements.define(StatuspageWebComponents.Summary.is,StatuspageWebComponents.Summary),customElements.define(StatuspageWebComponents.HTMLWebComponent.is,StatuspageWebComponents.HTMLWebComponent);