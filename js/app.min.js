var metaColors={none:"#339966",minor:"#F1C40F",major:"#FF9900",critical:"#990000",unavailable:"#4F93BD",error:"#646464"},indicatorVals={none:"good",minor:"minor",major:"major",critical:"critical",error:"error"},indicatorMessages={resolved:"good",investigating:"minor"};function setUp(){try{document.getElementById("main").classList.remove("size-zero"),setInfo("https://www.githubstatus.com/api/v2/status.json",Status),setInfo("https://www.githubstatus.com/api/v2/incidents.json",Messages)}catch(t){setError()}}function setError(){setTheme("error"),document.getElementsByTagName("body")[0].innerHTML=errorMessage}function setInfo(t,e){var s=new XMLHttpRequest;s.onreadystatechange=function(){4==this.readyState&&200==this.status?e(JSON.parse(this.responseText)):4==this.readyState&&200!=this.status&&0<this.status&&(console.log(this.readyState,this.status),setError())},s.open("GET",t,!0),s.send()}function setTheme(t){for(var e=[2,18],s=document.getElementsByTagName("meta"),n=0;n<e.length;n++)s[e[n]].setAttribute("content",metaColors[t])}function Status(t){setTheme("unavailable"),document.getElementById("mainStatus").classList.remove("unavailable-color"),document.getElementById("mainStatus").innerHTML='<span class="center-status">'+indicatorVals[t.status.indicator].toUpperCase()+"</span>",document.getElementById("mainStatus").classList.add("status-color"),document.getElementById("mainStatus").classList.add(t.status.indicator.toLowerCase()+"-color"),setTheme(t.status.indicator)}function Messages(t){if(0!=t.incidents.length){var e="",s=new Date;s.setDate(s.getDate()-7);for(var n=0;n<t.incidents.length&&!(new Date(t.incidents[n].created_at)<s);n++)if(0<t.incidents[n].incident_updates.length)for(var a=0;a<t.incidents[n].incident_updates.length;a++){var i="resolved"==t.incidents[n].incident_updates[a].status||("none"==t.incidents[n].impact||t.incidents[n].impact);e+='<div class="status-box '+(i=indicatorMessages[t.incidents[n].incident_updates[a].status])+'"><span class="message-status"><div class="right">'+i+"</div></span></div>";var o=new Date(t.incidents[n].incident_updates[a].created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"numeric"});o='<span class="date empty">'+o+"</span>",e+='<div class="text-margin">'+t.incidents[n].incident_updates[a].body+"<br />"+o+"</div>"}document.getElementById("messages").innerHTML=e}else document.getElementById("messages").innerHTML='<div class="empty padding-none"><div class="font-36 margin-bottom">All good.</div><div class="font-12">Nothing to see here folks. Looks like GitHub is up and running and has been stable for quite some time.<br /><br />Now get back to work!</div></div>'}
